<%- include("partials/header.ejs")  %> 
<%- include("partials/navbar.ejs") %> 

<div class="container py-3 my-2">
  <div class="d-flex justify-content-between">
    <h4 style="font-style: italic;">Halo <%= user.name  %> </h4>
    <div class="time"></div>
  </div>
  <div class="row mt-2 mb-4">
    <h5>Tabel Gempa</h5>
    <div class="d-flex justify-content-between">
      <div class="tombol">
        <a class="btn btn-primary btn-sm" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          Show By
        </a>
      
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="/home?type=Category">ByCategory</a></li>
          <li><a class="dropdown-item" href="/home">NotByCategory</a></li>
        </ul>
        <button class="btn add btn-warning btn-sm" style="text-decoration: none;" href=""><i class="fa-solid fa-plus"></i>Add data</button>
        <a class="btn btn-outline-warning btn-sm" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fa-solid fa-download"></i> Export data
        </a>
      
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="/unduh?type=Category">ByCategory</a></li>
          <li><a class="dropdown-item" href="/unduh">NotByCategory</a></li>
        </ul>
      </div>
      <!-- <input class="search" name="search" placeholder="search" type="text"> -->
      <form action="" role="search">
        <input class="form-control search me-2" type="search" placeholder="Search" aria-label="Search">
      </form>
    </div>
    <div class="d-flex">
      <div class="input-group mt-2 mb-3" style="max-width: 10%;">
        <select class="form-select form-select-sm" aria-label=".form-select-sm example">
          <option selected>Show</option>
          <option value="10">10</option>
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="999999">All</option>
        </select>
      </div>
    </div>
    <% if (error!==true && error!==null) { %>
      <div class="alert alert-danger" role="alert">
        <%= error %> 
      </div>
    <% } else if(error===true) { %>
      <div class="alert alert-success" role="alert">
        Berhasil ditambahkan
      </div>
    <% }  %> 
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th scope="col">No</th>
          <th scope="col">Lokasi</th>
          <th scope="col">Kekuatan Gempa</th>
          <th scope="col">Kedalaman Gempa</th>
          <th scope="col">Jarak Pusat Gempa</th>
          <th scope="col">Dampak Gempa</th>
          <th scope="col">Aksi</th>
        </tr>
      </thead>
      <tbody class="hasil">
        <% let no=1 %> 
        <% data.forEach(d => { %>
          <tr>
            <th scope="row"><%= no++ %> </th>
            <td><%=  d.lokasi %> </td>
            <td><%= d.kekuatanGempa %> </td>
            <td><%= d.kedalamanGempa  %> </td>
            <td><%= d.jarakGempa  %> </td>
            <td><%= d.dampakGempa %> </td>
            <td>
              <a href="/delete/gempa/<%= d.id  %> " class="btn btn-outline-danger btn-sm"><i class="bi bi-trash"></i></a>
              <a href="/update/gempa/<%= d.id %> " class="btn btn-outline-primary btn-sm"><i class="fa-solid fa-pen"></i></a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>


<%- include("partials/footer.ejs")  %> 